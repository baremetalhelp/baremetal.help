(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[671],{59881:function(t,e,a){"use strict";a.r(e),a.d(e,{assets:function(){return p},contentTitle:function(){return d},default:function(){return k},frontMatter:function(){return s},metadata:function(){return u},toc:function(){return m}});var n=a(87462),r=a(63366),i=(a(67294),a(3905)),l=a(93456),o=["components"],s={sidebar_position:1},d="About BareMetal Tutorials",u={unversionedId:"intro",id:"intro",title:"About BareMetal Tutorials",description:"What is bare metal? It's what computer people often say when they mean a computer with nothing installed on it.",source:"@site/docs/intro.md",sourceDirName:".",slug:"/intro",permalink:"/docs/intro",editUrl:"https://github.com/baremetalhelp/baremetal.help/docs/intro.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",next:{title:"BareMetal CDN",permalink:"/docs/cdn/"}},p={},m=[{value:"A Quick Example",id:"a-quick-example",level:2},{value:"The Tutorials",id:"the-tutorials",level:2},{value:"The enterprise track",id:"the-enterprise-track",level:3},{value:"The features track",id:"the-features-track",level:3},{value:"Other Approaches",id:"other-approaches",level:2},{value:"Available BareMetal tutorials",id:"available-baremetal-tutorials",level:2},{value:"Nothing Special",id:"nothing-special",level:2},{value:"Overall Assumptions",id:"overall-assumptions",level:2},{value:"Verify Your Setup",id:"verify-your-setup",level:2},{value:"Shared Configuration",id:"shared-configuration",level:2},{value:"Consistent and Universal Resource Tagging",id:"consistent-and-universal-resource-tagging",level:2},{value:"To-Do",id:"to-do",level:2}],c={toc:m};function k(t){var e=t.components,a=(0,r.Z)(t,o);return(0,i.kt)("wrapper",(0,n.Z)({},c,a,{components:e,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"about-baremetal-tutorials"},"About BareMetal Tutorials"),(0,i.kt)("p",null,"What is bare metal? It's what computer people often say when they mean a computer with nothing installed on it."),(0,i.kt)("p",null,"Here are some tutorials for bringing up cloud infrastructure from exactly that, bare metal. We assume very little. The focus here is Amazon Web Services, AWS."),(0,i.kt)("p",null,"For example, to create a Single Sign-On integration in AWS, we do not assume you have an organization, an existing SSO integration, or a directory set up for users and groups. Or even an AWS account. We're clear about any assumptions and we always show you how to prepare for each tutorial. "),(0,i.kt)("h2",{id:"a-quick-example"},"A Quick Example"),(0,i.kt)("p",null,"We mean it when we say we give you infrastructure-as-code for all the things. Not only that, we imbue them with secure-by-default best practices and convenience you'll like. For example, here's the infra-as-code (this happens to be written in TypeScript using ",(0,i.kt)("a",{parentName:"p",href:"https://aws.amazon.com/cdk/"},"AWS Cloud Development Kit, CDK"),") for your Content Delivery Network, CDN."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},'    ...\n    // Find the AWS DNS entry for your domain\n    const hostedZone = HostedZone.fromLookup(this, "hosted-zone", {\n      domainName,\n    });\n\n    // Create an SSL certificate for the CDN endpoint\n    const certificate = new Certificate(this, "certificate", {\n      domainName: cdnEndpoint,\n      validation: CertificateValidation.fromDns(hostedZone),\n    });\n    // Set expiry notification\n    certificate\n      .metricDaysToExpiry()\n      .createAlarm(this, "certificate-expiry-alarm", {\n        comparisonOperator: ComparisonOperator.LESS_THAN_THRESHOLD,\n        evaluationPeriods: 1,\n        threshold: 45, // Automatic rotation happens between 60 and 45 days before expiry\n      });\n\n    // This is the CDN origin, where you copy resources\n    const origin = new Bucket(this, "origin");\n\n    // And finally pull everything together and make the CDN itself\n    const distribution = new Distribution(this, "distribution", {\n      domainNames: [cdnEndpoint],\n      certificate,\n      defaultBehavior: {\n        origin: new S3Origin(origin),\n      },\n    });\n    ...\n')),(0,i.kt)("p",null,"Even if you don't speak CDK or the TypeScript language, you may be able to follow along and notice"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Nothing is hard-coded, not even the domain or the CDN domain prefix."),(0,i.kt)("li",{parentName:"ul"},"There's just the right SSL certificate with automatic verification that this is for a domain you own via an AWS HostedZone."),(0,i.kt)("li",{parentName:"ul"},"And we'll let you know in plenty of time ",(0,i.kt)("em",{parentName:"li"},"before")," that certificate expires with a custom alert.")),(0,i.kt)("h2",{id:"the-tutorials"},"The Tutorials"),(0,i.kt)("p",null,"Here's your tutorial path. You'll typically only run the Enterprise Track once. But you can add as many features\nas you like and don't have to do them all at once. "),(0,i.kt)("p",null,"Each tutorial includes infrastructure-as-code for deploying that tutorial's resources, written in AWS CDK. CDK has \"stacks\" as a\nfundamental that encapsulate a collection of related resources. There's at least one stack for every tutorial."),(0,i.kt)("p",null,"That means you can run the CDK to create the infrastructure in each tutorial without going through every detail. You might regret that\nwhen things go wrong or you want to know how to use it."),(0,i.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"Clone the GitHub repo for this site, ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/baremetalhelp/baremetal.help"},"https://github.com/baremetalhelp/baremetal.help")," ."),(0,i.kt)("p",{parentName:"div"},"You're going to need this repo to run any of the code we wrote for the BareMetal Tutorials. This documentation is also in the same repo."))),(0,i.kt)("h3",{id:"the-enterprise-track"},"The enterprise track"),(0,i.kt)("p",null,"You'll run this at most once, preferably in a new, empty AWS Account. You do not actually need\nto run these stacks at all. You can do everything in the console or the AWS CLI if you wish. But it's a\nbig deal if this is done repeatably and consistently, the BareMetal way, because a lot of the features you'll be adding in the features track rely on this stuff being set up right."),(0,i.kt)(l.Mermaid,{config:{},chart:'stateDiagram-v2\n  direction LR\n  state "AWS Multi-account Organization" as organization\n  state "Landing Zone" as landingzone\n  state "Landing Zone CI/CD" as landing_zone_cicd\n  state "Single Sign-On" as sso\n  state "Enterprise Email" as email\n  state "AWS Organization CI/CD" as organization_cicd\n  [*] --\x3e organization\n  organization --\x3e organization_cicd\n  organization_cicd --\x3e sso\n  organization_cicd --\x3e email\n  email --\x3e sso\n  sso --\x3e landingzone\n  landingzone --\x3e [*]\n  landingzone --\x3e landing_zone_cicd\n  landing_zone_cicd --\x3e [*]',mdxType:"Mermaid"}),(0,i.kt)("h3",{id:"the-features-track"},"The features track"),(0,i.kt)("p",null,"You can run as many of these as you want and do not have to create all the features at once. The same thing goes here\nas did for the enterprise BareMetal stacks. You do not actually have to do this using the infra-as-code code here.\nBut you'll get sad if you don't make it consistent and repeatable."),(0,i.kt)(l.Mermaid,{chart:'stateDiagram-v2\n  direction LR\n  state "Complete Documentation Website" as documentation\n  state "Content Delivery Networks, CDN" as cdn\n  state "Hosted CI/CD (GitHub Actions)" as githubactions\n  state "Artifacts Repos" as artifacts\n  state "GitHub Actions" as gha\n  state "Pick a Feature You Like" as pick_one\n  state "Rinse and Repeat" as rinse_and_repeat\n  pick_one --\x3e documentation\n  pick_one --\x3e githubactions\n  pick_one --\x3e cdn\n  pick_one --\x3e artifacts\n  pick_one --\x3e gha\n  gha --\x3e rinse_and_repeat\n  artifacts --\x3e rinse_and_repeat\n  cdn --\x3e rinse_and_repeat\n  documentation --\x3e rinse_and_repeat\n  githubactions --\x3e rinse_and_repeat\n  rinse_and_repeat --\x3e [*]\n  [*] --\x3e pick_one',mdxType:"Mermaid"}),(0,i.kt)("h2",{id:"other-approaches"},"Other Approaches"),(0,i.kt)("p",null,"People have been creating Public Cloud infrastructure for as long as it's been around. There are lots of ways to do it. BareMetal is but just one way of many. Here are some examples."),(0,i.kt)("div",{className:"admonition admonition-warning alert alert--danger"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"warning")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"This table is wrong and incomplete. It's also biased heavily on the capabilities of BareMetal rather than things it can't do."))),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Tooling"),(0,i.kt)("th",{parentName:"tr",align:null},"Framework?"),(0,i.kt)("th",{parentName:"tr",align:null},"Infrastructure-as-Code"),(0,i.kt)("th",{parentName:"tr",align:null},"Data Driven"),(0,i.kt)("th",{parentName:"tr",align:null},"CI/CD"),(0,i.kt)("th",{parentName:"tr",align:null},"SSO Landing Zone"),(0,i.kt)("th",{parentName:"tr",align:null},"SSO Permissions"),(0,i.kt)("th",{parentName:"tr",align:null},"AWS Organization"),(0,i.kt)("th",{parentName:"tr",align:null},"AWS Accounts"),(0,i.kt)("th",{parentName:"tr",align:null},"Data-Driven"),(0,i.kt)("th",{parentName:"tr",align:null},"GitHub Pages Website"),(0,i.kt)("th",{parentName:"tr",align:null},"GitHub Integration"),(0,i.kt)("th",{parentName:"tr",align:null}))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"https://aws.amazon.com/console/"},"AWS Console, 100% Click-Ops")),(0,i.kt)("td",{parentName:"tr",align:null}),(0,i.kt)("td",{parentName:"tr",align:null}),(0,i.kt)("td",{parentName:"tr",align:null}),(0,i.kt)("td",{parentName:"tr",align:null}),(0,i.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:null}),(0,i.kt)("td",{parentName:"tr",align:null}),(0,i.kt)("td",{parentName:"tr",align:null}),(0,i.kt)("td",{parentName:"tr",align:null})),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"https://aws.amazon.com/cloudformation/"},"Cloudformation")),(0,i.kt)("td",{parentName:"tr",align:null}),(0,i.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:null}),(0,i.kt)("td",{parentName:"tr",align:null}),(0,i.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:null}),(0,i.kt)("td",{parentName:"tr",align:null}),(0,i.kt)("td",{parentName:"tr",align:null}),(0,i.kt)("td",{parentName:"tr",align:null})),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"https://aws.amazon.com/cdk/"},"AWS CDK")),(0,i.kt)("td",{parentName:"tr",align:null}),(0,i.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:null}),(0,i.kt)("td",{parentName:"tr",align:null},"?"),(0,i.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:null}),(0,i.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:null}),(0,i.kt)("td",{parentName:"tr",align:null}),(0,i.kt)("td",{parentName:"tr",align:null}),(0,i.kt)("td",{parentName:"tr",align:null})),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"https://www.terraform.io"},"Terraform")),(0,i.kt)("td",{parentName:"tr",align:null}),(0,i.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:null}),(0,i.kt)("td",{parentName:"tr",align:null}),(0,i.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:null}),(0,i.kt)("td",{parentName:"tr",align:null}),(0,i.kt)("td",{parentName:"tr",align:null}),(0,i.kt)("td",{parentName:"tr",align:null})),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"https://github.com/awslabs/aws-bootstrap-kit"},"aws-bootstrap-kit")),(0,i.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:null}),(0,i.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:null}),(0,i.kt)("td",{parentName:"tr",align:null}),(0,i.kt)("td",{parentName:"tr",align:null}),(0,i.kt)("td",{parentName:"tr",align:null}),(0,i.kt)("td",{parentName:"tr",align:null}),(0,i.kt)("td",{parentName:"tr",align:null})),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"https://github.com/org-formation/org-formation-cli"},"org-formation")),(0,i.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:null}),(0,i.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:null}),(0,i.kt)("td",{parentName:"tr",align:null}),(0,i.kt)("td",{parentName:"tr",align:null})),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"https://baremetal.help"},"BareMetal Help")),(0,i.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:null})),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"https://docs.aws.amazon.com/controltower/latest/userguide/aft-overview.html"},"Account Factory for Terraform")),(0,i.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:null},"?"),(0,i.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:null}),(0,i.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:null},"?"),(0,i.kt)("td",{parentName:"tr",align:null}),(0,i.kt)("td",{parentName:"tr",align:null}),(0,i.kt)("td",{parentName:"tr",align:null})))),(0,i.kt)("h2",{id:"available-baremetal-tutorials"},"Available BareMetal tutorials"),(0,i.kt)("p",null,"We're adding more all the time. So please check back often to see what's new."),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"BareMetal Stack"),(0,i.kt)("th",{parentName:"tr",align:null},"What and How"),(0,i.kt)("th",{parentName:"tr",align:null},"Resources"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Content Delivery Network, CDN"),(0,i.kt)("td",{parentName:"tr",align:null},'You use a CDN to make things like images available at "edge locations" so that people on your website can get those images \u2014 sometimes large \u2014 from an internet data center near them. It\'s quicker.'),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"https://en.wikipedia.org/wiki/Content_delivery_network"},"Wikipedia CDN"),", ",(0,i.kt)("a",{parentName:"td",href:"https://aws.amazon.com/cloudfront/"},"AWS CloudFront"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"A documentation website, like this one"),(0,i.kt)("td",{parentName:"tr",align:null},"Using ",(0,i.kt)("a",{parentName:"td",href:"https://docusaurus.io/docs/markdown-features"},"Markdown")," and a few tools, you'll be able to create a website just like this one. We have infra-as-code for setting up free hosting on ",(0,i.kt)("a",{parentName:"td",href:"https://pages.github.com/"},"GitHub Pages"),", which is free even for moderate volume. You can deploy the documentation at your apex domain, just like we did here at ",(0,i.kt)("a",{parentName:"td",href:"https://baremetal.help"},"https://baremetal.help")," . We have ",(0,i.kt)("a",{parentName:"td",href:"https://github.com/features/actions"},"GitHub Actions")," for deploying documentation updates automatically."),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"https://docusaurus.io/"},"Docusaurus"),", ",(0,i.kt)("a",{parentName:"td",href:"https://docusaurus.io/docs/markdown-features"},"Markdown"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"An Enterprise AWS Organization"),(0,i.kt)("td",{parentName:"tr",align:null},"You'll need this to manage multiple accounts effectively. For Production, Pre-production, and Development, for example."),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"https://aws.amazon.com/organizations/"},"AWS Organizations"),", ",(0,i.kt)("a",{parentName:"td",href:"https://aws.amazon.com/controltower/?control-blogs.sort-by=item.additionalFields.createdDate&control-blogs.sort-order=desc"},"AWS ControlTower"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Single Sign-On"),(0,i.kt)("td",{parentName:"tr",align:null},"We show how to build an enterprise-grade Single Sign-On infrastructure from scratch. You'll use a user/group directory \u2014 probably on Azure AD \u2014 and an SSO implementation on AWS that connects to it. This is what your enterprise grade SSO looks like."),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"https://azure.microsoft.com/en-us/services/active-directory/"},"Azure Active Directory"),", ",(0,i.kt)("a",{parentName:"td",href:"https://aws.amazon.com/single-sign-on/"},"AWS SSO"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Artifact Repos"),(0,i.kt)("td",{parentName:"tr",align:null},"You'll probably want to control access to public repos for package managers, where you can approve and audit packages for external sources. There are repo configurations for npm, pip, yarn, twine, Maven, and NuGet. There's a stack you can run that creates these repos with pull-through caching and the right configuration."),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"https://aws.amazon.com/codeartifact/"},"AWS CodeArtifact"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"GitHub Actions ","[links to this and above too]"),(0,i.kt)("td",{parentName:"tr",align:null}),(0,i.kt)("td",{parentName:"tr",align:null})),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Enterprise email"),(0,i.kt)("td",{parentName:"tr",align:null}),(0,i.kt)("td",{parentName:"tr",align:null})))),(0,i.kt)("h2",{id:"nothing-special"},"Nothing Special"),(0,i.kt)("p",null,"There's already so much great documentation for all of the resources you can create in the public cloud. We don't duplicate it, and will cheerfully link to the best documentation along the way."),(0,i.kt)("p",null,"What we ",(0,i.kt)("em",{parentName:"p"},"do")," provide, however, is infrastructure-as-code stacks for all the enterprise-grade infrastructure that you need to being up in bare metal that share common configuration and written in a way so\nyou can pick and chose what you want. The common configuration means that all your BareMetal stacks are consistent and compatible."),(0,i.kt)("p",null,"We make it super clear when there are dependencies on other tutorials."),(0,i.kt)("h2",{id:"overall-assumptions"},"Overall Assumptions"),(0,i.kt)("p",null,"Here are the basics. Each tutorial relies on at least these. Additional requirements are listed in each tutorial as needed."),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"You have an AWS account and have ",(0,i.kt)("a",{parentName:"li",href:"https://docs.aws.amazon.com/IAM/latest/UserGuide/getting-started_create-admin-group.html"},"created a privileged IAM user"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"admin"),"."),(0,i.kt)("li",{parentName:"ol"},"You have ","[created credentials for the ",(0,i.kt)("inlineCode",{parentName:"li"},"admin")," user]"," and have ",(0,i.kt)("a",{parentName:"li",href:"https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-files.html"},"stored them on your computer"),"."),(0,i.kt)("li",{parentName:"ol"},"You have installed the ",(0,i.kt)("a",{parentName:"li",href:"https://docs.aws.amazon.com/cli/latest/userguide/getting-started-install.html"},"latest AWS command-ine tools, CLI"),"."),(0,i.kt)("li",{parentName:"ol"},"You have installed the ",(0,i.kt)("a",{parentName:"li",href:"https://docs.aws.amazon.com/cdk/v2/guide/getting_started.html"},"latest AWS CDK CLI"),".")),(0,i.kt)("h2",{id:"verify-your-setup"},"Verify Your Setup"),(0,i.kt)("p",null,"Blah."),(0,i.kt)("h2",{id:"shared-configuration"},"Shared Configuration"),(0,i.kt)("p",null,"We make it easy to define common configuration used across all stacks. That way everything's consistent."),(0,i.kt)("p",null,"We're defining infrastructure-as-code for everything. So all the configuration data you need is in code. We like the TypeScript language, but we could have used any of the ",(0,i.kt)("a",{parentName:"p",href:"https://aws.amazon.com/cdk/faqs/#:~:text=Q%3A%20What%20programming%20languages%20does,Go%20(in%20Developer%20Preview)."},"supported CDK languages"),"."),(0,i.kt)("p",null,"In the file ",(0,i.kt)("inlineCode",{parentName:"p"},"./config/common-config.ts"),", you can see"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},'const bareMetalConfig: BareMetalConfig = {\n    ssoInstanceArn: "arn:aws:sso:::instance/ssoins-722394f61090d7d4",\n    ssoRegion: "us-east-1",\n    domainName: "baremetal.help",\n    cdnEndpoint: "cdn.baremetal.help",\n    gitHubUser: "baremetalhelp",\n};\n')),(0,i.kt)("p",null,"All fields are optional. Here's what each field does."),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Field"),(0,i.kt)("th",{parentName:"tr",align:null},"Value"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"ssoInstanceArn")),(0,i.kt)("td",{parentName:"tr",align:null},"If you're using Single Sign-On, you'll have this value handy. This is used to create permissions for users using the SSO Landing Zone.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"ssoRegion")),(0,i.kt)("td",{parentName:"tr",align:null},"This is the region of SSO, not necessarily the region you're using for your BareMetal stacks.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"domainName")),(0,i.kt)("td",{parentName:"tr",align:null},"If you have a domain you want to use for documentation, add this value.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"cdnEndpoint")),(0,i.kt)("td",{parentName:"tr",align:null},"If you're developing a CDN, add this field,")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"gitHubUser")),(0,i.kt)("td",{parentName:"tr",align:null},"For publishing documentation.")))),(0,i.kt)("h2",{id:"consistent-and-universal-resource-tagging"},"Consistent and Universal Resource Tagging"),(0,i.kt)("p",null,"Resource tagging is at the very core of Public Cloud best practices. Again in ",(0,i.kt)("inlineCode",{parentName:"p"},"./config/common-config.ts"),", edit ",(0,i.kt)("inlineCode",{parentName:"p"},"globalTags")," key/value tags. Your Organization creates a custom policy for required tags and values. For example, departmental charge back requires consistent tagging."),(0,i.kt)("p",null,"Here's the tags we use. But your enterprise will want more as a best practice, including "),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},'export const globalTags: { [key: string]: any } = {\n    repo: "https://github.com/baremetalhelp/baremetal.help",\n    owner: "tech@baremetal.help",\n    environment: "dev",\n    description: "Infra-as-Code and documentation for a robust cloud-native enterprise foundation",\n};\n')),(0,i.kt)("h2",{id:"to-do"},"To-Do"),(0,i.kt)("ul",{className:"contains-task-list"},(0,i.kt)("li",{parentName:"ul",className:"task-list-item"},(0,i.kt)("input",{parentName:"li",type:"checkbox",checked:!0,disabled:!0})," ","Make all configuration fields optional and handle them"),(0,i.kt)("li",{parentName:"ul",className:"task-list-item"},(0,i.kt)("input",{parentName:"li",type:"checkbox",checked:!1,disabled:!0})," ",'Each tutorial must have at least the following sections: preamble with resource diagram "Assumptions", "Required Configuration", "How to Deploy", "Verification", "Stack Resources" as table, "How it works", '),(0,i.kt)("li",{parentName:"ul",className:"task-list-item"},(0,i.kt)("input",{parentName:"li",type:"checkbox",checked:!1,disabled:!0})," ","Add all the links"),(0,i.kt)("li",{parentName:"ul",className:"task-list-item"},(0,i.kt)("input",{parentName:"li",type:"checkbox",checked:!1,disabled:!0})," ","Comments in CDK and data structures"),(0,i.kt)("li",{parentName:"ul",className:"task-list-item"},(0,i.kt)("input",{parentName:"li",type:"checkbox",checked:!1,disabled:!0})," ","Separate CDN prefix for domain name"),(0,i.kt)("li",{parentName:"ul",className:"task-list-item"},(0,i.kt)("input",{parentName:"li",type:"checkbox",checked:!1,disabled:!0})," ","Add switch for domain verification for SSL Certificate if the domain is not hosted in AWS Route 53 "),(0,i.kt)("li",{parentName:"ul",className:"task-list-item"},(0,i.kt)("input",{parentName:"li",type:"checkbox",checked:!1,disabled:!0})," ","Pass SSO region to custom resource handlers"),(0,i.kt)("li",{parentName:"ul",className:"task-list-item"},(0,i.kt)("input",{parentName:"li",type:"checkbox",checked:!1,disabled:!0})," ","Create and use config for GitHub Pages IP addresses"),(0,i.kt)("li",{parentName:"ul",className:"task-list-item"},(0,i.kt)("input",{parentName:"li",type:"checkbox",checked:!1,disabled:!0})," ","Create and apply SCP for required tags and values"),(0,i.kt)("li",{parentName:"ul",className:"task-list-item"},(0,i.kt)("input",{parentName:"li",type:"checkbox",checked:!1,disabled:!0})," ","Create Enterprise track and Features track in top-level doc sidebar menu"),(0,i.kt)("li",{parentName:"ul",className:"task-list-item"},(0,i.kt)("input",{parentName:"li",type:"checkbox",checked:!1,disabled:!0})," ","Fix doc links. Sometimes we copied the URL from ",(0,i.kt)("inlineCode",{parentName:"li"},"http://localhost:3000")),(0,i.kt)("li",{parentName:"ul",className:"task-list-item"},(0,i.kt)("input",{parentName:"li",type:"checkbox",checked:!1,disabled:!0})," ","Test whether an empty Managed Services list in Permission Sets work. Otherwise do the same as missing policy. I don't think it's an error to have both missing because we could just be setting things up."),(0,i.kt)("li",{parentName:"ul",className:"task-list-item"},(0,i.kt)("input",{parentName:"li",type:"checkbox",checked:!1,disabled:!0})," ","Explore making true constructs for the meat of stacks, even if they're only used once in BareMetal"),(0,i.kt)("li",{parentName:"ul",className:"task-list-item"},(0,i.kt)("input",{parentName:"li",type:"checkbox",checked:!0,disabled:!0})," ","Use title case for H1 ",(0,i.kt)("em",{parentName:"li"},"and")," H2 b/c H2 are document headings, sentence case for everything else"),(0,i.kt)("li",{parentName:"ul",className:"task-list-item"},(0,i.kt)("input",{parentName:"li",type:"checkbox",checked:!1,disabled:!0})," ","Open source goodness like licensing, semantic versioning, PR template, ..."),(0,i.kt)("li",{parentName:"ul",className:"task-list-item"},(0,i.kt)("input",{parentName:"li",type:"checkbox",checked:!1,disabled:!0})," ","GitHub Actions for stack (hooks per stack if possible)"),(0,i.kt)("li",{parentName:"ul",className:"task-list-item"},(0,i.kt)("input",{parentName:"li",type:"checkbox",checked:!1,disabled:!0})," ","Maybe move common config back to top-level and pass explicitly to stacks? Yeah. I think that's right."),(0,i.kt)("li",{parentName:"ul",className:"task-list-item"},(0,i.kt)("input",{parentName:"li",type:"checkbox",checked:!1,disabled:!0})," ","Alt text for images"),(0,i.kt)("li",{parentName:"ul",className:"task-list-item"},(0,i.kt)("input",{parentName:"li",type:"checkbox",checked:!1,disabled:!0})," ","Do we need custom domain for AD Tenant?"),(0,i.kt)("li",{parentName:"ul",className:"task-list-item"},(0,i.kt)("input",{parentName:"li",type:"checkbox",checked:!1,disabled:!0})," ","Clarify potential issues and fixes for each step "),(0,i.kt)("li",{parentName:"ul",className:"task-list-item"},(0,i.kt)("input",{parentName:"li",type:"checkbox",checked:!1,disabled:!0})," ","Clarify and be super explicit about the P2 trial license")),(0,i.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},'BareMetal is not really a trademark. But "BareMetal is not really a trademark\u2122" is.'))))}k.isMDXComponent=!0},11748:function(t,e,a){var n={"./locale":89234,"./locale.js":89234};function r(t){var e=i(t);return a(e)}function i(t){if(!a.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}r.keys=function(){return Object.keys(n)},r.resolve=i,t.exports=r,r.id=11748}}]);