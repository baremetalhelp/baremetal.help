"use strict";(self.webpackChunkdocs_new=self.webpackChunkdocs_new||[]).push([[498],{2055:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>d,toc:()=>r});var t=n(4848),s=n(8453);const o={sidebar_position:3},a="Same Thing With Pictures",d={id:"enterprise/sso/sso-picture-book",title:"Same Thing With Pictures",description:"These are the SSO integration instructions you're looking for.",source:"@site/docs/enterprise/sso/sso-picture-book.md",sourceDirName:"enterprise/sso",slug:"/enterprise/sso/sso-picture-book",permalink:"/docs/enterprise/sso/sso-picture-book",draft:!1,unlisted:!1,editUrl:"https://github.com/baremetalhelp/baremetal.help/docs/enterprise/sso/sso-picture-book.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"I Can Follow Instructions",permalink:"/docs/enterprise/sso/follow-instructions"},next:{title:"Set Up Users and Groups",permalink:"/docs/enterprise/sso/users-and-groups"}},c={},r=[{value:"Assumptions",id:"assumptions",level:2},{value:"Enable AWS SSO",id:"enable-aws-sso",level:2},{value:"AWS SSO enabled OK",id:"aws-sso-enabled-ok",level:3},{value:"Create Initial AD Tenant",id:"create-initial-ad-tenant",level:2},{value:"Create New Enterprise Application",id:"create-new-enterprise-application",level:2},{value:"AD Enterprise Application created OK",id:"ad-enterprise-application-created-ok",level:3},{value:"Set Up Single Sign-On in AD",id:"set-up-single-sign-on-in-ad",level:2},{value:"Download SSO Metadata from AWS",id:"download-sso-metadata-from-aws",level:2},{value:"Upload SSO Metadata to AD",id:"upload-sso-metadata-to-ad",level:2},{value:"Download SSO Certificate",id:"download-sso-certificate",level:2},{value:"Complete AWS SSO Configuration",id:"complete-aws-sso-configuration",level:2}];function l(e){const i={a:"a",admonition:"admonition",blockquote:"blockquote",h1:"h1",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.h1,{id:"same-thing-with-pictures",children:"Same Thing With Pictures"}),"\n",(0,t.jsx)(i.p,{children:"These are the SSO integration instructions you're looking for."}),"\n",(0,t.jsx)(i.h2,{id:"assumptions",children:"Assumptions"}),"\n",(0,t.jsx)(i.p,{children:'See the general assumptions in "About BareMetal tutorials". [link]'}),"\n",(0,t.jsx)(i.p,{children:"In addition"}),"\n",(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsxs)(i.li,{children:["You have an ",(0,t.jsx)(i.a,{href:"https://azure.microsoft.com",children:"Azure account"})]}),"\n",(0,t.jsxs)(i.li,{children:["An ",(0,t.jsx)(i.a,{href:"https://docs.microsoft.com/en-us/azure/active-directory/develop/quickstart-create-new-tenant",children:"Azure AD tenant"})," in that account and permissions to configure it."]}),"\n",(0,t.jsx)(i.li,{children:"An Azure P2 trial license [link]"}),"\n"]}),"\n",(0,t.jsx)(i.h2,{id:"enable-aws-sso",children:"Enable AWS SSO"}),"\n",(0,t.jsx)(i.p,{children:"In the AWS Console, find the Single Sign-On page."}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{alt:"Enable AWS SSO",src:n(9989).A+"",width:"2934",height:"2806"})}),"\n",(0,t.jsx)(i.admonition,{title:"action",type:"info",children:(0,t.jsx)(i.p,{children:'Click "Enable AWS SSO".'})}),"\n",(0,t.jsx)(i.h3,{id:"aws-sso-enabled-ok",children:"AWS SSO enabled OK"}),"\n",(0,t.jsx)(i.p,{children:"It may take a minute or two, but success looks like this."}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{alt:"AWS SSO enabled",src:n(7590).A+"",width:"2934",height:"2806"})}),"\n",(0,t.jsx)(i.h2,{id:"create-initial-ad-tenant",children:"Create Initial AD Tenant"}),"\n",(0,t.jsxs)(i.p,{children:["Follow ",(0,t.jsx)(i.a,{href:"https://docs.microsoft.com/en-us/azure/active-directory/develop/quickstart-create-new-tenant",children:"these instructions"}),"."]}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{src:n(2173).A+"",width:"2780",height:"2664"})}),"\n",(0,t.jsx)(i.admonition,{title:"action",type:"info",children:(0,t.jsx)(i.p,{children:'Click "Enterprise applications"'})}),"\n",(0,t.jsx)(i.h2,{id:"create-new-enterprise-application",children:"Create New Enterprise Application"}),"\n",(0,t.jsx)(i.p,{children:"An Enterprise Application is the feature you add to integrate with AWS SSO. You can't do any of the rest of this tutorial without this feature."}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{src:n(7809).A+"",width:"2780",height:"2664"})}),"\n",(0,t.jsx)(i.admonition,{title:"action",type:"info",children:(0,t.jsx)(i.p,{children:'Click "+ New application"'})}),"\n",(0,t.jsx)(i.admonition,{title:"action",type:"info",children:(0,t.jsx)(i.p,{children:'Search for "aws"'})}),"\n",(0,t.jsx)(i.p,{children:"You'll see AWS show up twice. There's a legacy application and then the one that works. Pick the one that works."}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{src:n(1243).A+"",width:"2780",height:"2664"})}),"\n",(0,t.jsx)(i.admonition,{title:"action",type:"info",children:(0,t.jsx)(i.p,{children:'Click "AWS Single Sign-on"'})}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{src:n(2031).A+"",width:"2780",height:"2664"})}),"\n",(0,t.jsx)(i.admonition,{title:"action",type:"info",children:(0,t.jsx)(i.p,{children:'Click "Create". It\'ll take a minute or two.'})}),"\n",(0,t.jsx)(i.h3,{id:"ad-enterprise-application-created-ok",children:"AD Enterprise Application created OK"}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{src:n(1441).A+"",width:"2780",height:"2664"})}),"\n",(0,t.jsx)(i.p,{children:"TBD: Errors and fixes"}),"\n",(0,t.jsx)(i.h2,{id:"set-up-single-sign-on-in-ad",children:"Set Up Single Sign-On in AD"}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{src:n(2163).A+"",width:"2780",height:"2664"})}),"\n",(0,t.jsx)(i.admonition,{title:"action",type:"info",children:(0,t.jsx)(i.p,{children:'Click "Set up single sign on". Click "SAML".'})}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{src:n(5735).A+"",width:"2780",height:"2664"})}),"\n",(0,t.jsx)(i.p,{children:"Leave this window open. We're doing to generate some metadata in AWS SSO that we\nwill use to configure this."}),"\n",(0,t.jsx)(i.h2,{id:"download-sso-metadata-from-aws",children:"Download SSO Metadata from AWS"}),"\n",(0,t.jsx)(i.p,{children:"Go back to the AWS SSO console."}),"\n",(0,t.jsx)(i.admonition,{title:"action",type:"info",children:(0,t.jsx)(i.p,{children:'Click "Settings"'})}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{src:n(8543).A+"",width:"2780",height:"2664"})}),"\n",(0,t.jsx)(i.p,{children:"Change the Identity Source."}),"\n",(0,t.jsx)(i.admonition,{title:"action",type:"info",children:(0,t.jsx)(i.p,{children:'Click "Actions" menu'})}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{src:n(6961).A+"",width:"2780",height:"2664"})}),"\n",(0,t.jsx)(i.admonition,{title:"action",type:"info",children:(0,t.jsx)(i.p,{children:'Click "External identity provider". Then "Next".'})}),"\n",(0,t.jsx)(i.admonition,{title:"action",type:"info",children:(0,t.jsx)(i.p,{children:'Click "Download metadata file"'})}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{src:n(5738).A+"",width:"2780",height:"2664"})}),"\n",(0,t.jsx)(i.h2,{id:"upload-sso-metadata-to-ad",children:"Upload SSO Metadata to AD"}),"\n",(0,t.jsx)(i.p,{children:"Now open the AD window back up."}),"\n",(0,t.jsx)(i.admonition,{title:"action",type:"info",children:(0,t.jsx)(i.p,{children:'Click "Upload metadata file", select metadata file you downloaded from AWS, click "Add".'})}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{src:n(2411).A+"",width:"2780",height:"2664"})}),"\n",(0,t.jsx)(i.p,{children:"Success looks like this."}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{src:n(8097).A+"",width:"2780",height:"2664"})}),"\n",(0,t.jsx)(i.admonition,{title:"action",type:"info",children:(0,t.jsx)(i.p,{children:'Click "Save".'})}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{src:n(9197).A+"",width:"2780",height:"2664"})}),"\n",(0,t.jsx)(i.admonition,{title:"action",type:"info",children:(0,t.jsx)(i.p,{children:'Click "No, I\'ll test later"'})}),"\n",(0,t.jsx)(i.h2,{id:"download-sso-certificate",children:"Download SSO Certificate"}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{src:n(8552).A+"",width:"2780",height:"2664"})}),"\n",(0,t.jsx)(i.admonition,{title:"action",type:"info",children:(0,t.jsx)(i.p,{children:'In step 3, click "Download" next to "Certificate (Base64)" to download the SAML signing certificate.'})}),"\n",(0,t.jsxs)(i.admonition,{title:"incomplete or broken implementation",type:"warning",children:[(0,t.jsx)(i.p,{children:"We could not get the Federation Metadata XML download to work. As of this writing, the upload to AWS SSO did not configure things the right way."}),(0,t.jsx)(i.p,{children:"It's no big deal. We just need to copy a few fields by hand."}),(0,t.jsx)(i.p,{children:"We also did not install the \"highly recommended\" browser plugin in Step 4. We're not using Chrome, and that's the\nonly browser it supports. Well probably Edge too."})]}),"\n",(0,t.jsx)(i.h2,{id:"complete-aws-sso-configuration",children:"Complete AWS SSO Configuration"}),"\n",(0,t.jsxs)(i.admonition,{title:"action",type:"info",children:[(0,t.jsx)(i.p,{children:'In step 5, open "Configuration URLs".'}),(0,t.jsx)(i.p,{children:'Copy "Login URL" in this Azure window to "IdP sign-in URL" in the AWS SSO window.'}),(0,t.jsx)(i.p,{children:'Copy "Azure AD identifier" in the Azure window to "IdP issuer URL" in the AWS SSO console.'}),(0,t.jsx)(i.p,{children:"Still in the AWS SSO console, upload the SAML signing certificate you downloaded from Azure AD."})]}),"\n",(0,t.jsx)(i.p,{children:"This is what the AWS SSO console looks like when you're ready to go."}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{src:n(9385).A+"",width:"2780",height:"2664"})}),"\n",(0,t.jsx)(i.admonition,{title:"action",type:"info",children:(0,t.jsx)(i.p,{children:'Click "Next".'})}),"\n",(0,t.jsx)(i.p,{children:"Review."}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{src:n(2115).A+"",width:"2780",height:"2664"})}),"\n",(0,t.jsx)(i.admonition,{title:"action",type:"info",children:(0,t.jsx)(i.p,{children:'Enter ACCEPT. Click "Change identity source".'})}),"\n",(0,t.jsx)(i.p,{children:"This is what success looks like."}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{src:n(7289).A+"",width:"2780",height:"2664"})}),"\n",(0,t.jsxs)(i.blockquote,{children:["\n",(0,t.jsx)(i.p,{children:"TBD do we need to set up automatic provisioning in here? Not sure how it's different from the provisioning in AD."}),"\n"]})]})}function h(e={}){const{wrapper:i}={...(0,s.R)(),...e.components};return i?(0,t.jsx)(i,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},7809:(e,i,n)=>{n.d(i,{A:()=>t});const t=n.p+"assets/images/ad-new-application-1843753749e756a0ed3460263f1b1bd3.png"},5735:(e,i,n)=>{n.d(i,{A:()=>t});const t=n.p+"assets/images/ad-saml-setup-45b50c1feeed06e17c7e614ac4815193.png"},8097:(e,i,n)=>{n.d(i,{A:()=>t});const t=n.p+"assets/images/add-metadata-success-1cfe11ea8b5db8d3755f8fc773aff91c.png"},2411:(e,i,n)=>{n.d(i,{A:()=>t});const t=n.p+"assets/images/add-metatdata-478499dc98de9efbf4fb0ccf32201a51.png"},9385:(e,i,n)=>{n.d(i,{A:()=>t});const t=n.p+"assets/images/aws-sso-config-ready-to-go-90a480970cedad3afafb36b1ff0807fb.png"},7590:(e,i,n)=>{n.d(i,{A:()=>t});const t=n.p+"assets/images/aws-sso-created-50c155d7515bcadfdb34507694c02762.png"},8543:(e,i,n)=>{n.d(i,{A:()=>t});const t=n.p+"assets/images/aws-sso-settings-9407b11ee122ca7050550d50aa0e0d5b.png"},6961:(e,i,n)=>{n.d(i,{A:()=>t});const t=n.p+"assets/images/change-identity-source-e2fb0dadc1b2a4bf24ac284f0a937ea4.png"},2115:(e,i,n)=>{n.d(i,{A:()=>t});const t=n.p+"assets/images/confirm-idp-config-116a25961ea203280cf1f82d1805b1fe.png"},1441:(e,i,n)=>{n.d(i,{A:()=>t});const t=n.p+"assets/images/create-ad-application-success-a6d9fb5a2acb1d4967045765a69e7686.png"},2031:(e,i,n)=>{n.d(i,{A:()=>t});const t=n.p+"assets/images/create-ad-application-dc478925fb27e60e9fd60cf776c67bfe.png"},8552:(e,i,n)=>{n.d(i,{A:()=>t});const t=n.p+"assets/images/download-certificate-a43fd18b9ac3aac9c8ad96f63082c35b.png"},5738:(e,i,n)=>{n.d(i,{A:()=>t});const t=n.p+"assets/images/download-metadata-7ad849a129620207ff7edc4232a97e93.png"},2173:(e,i,n)=>{n.d(i,{A:()=>t});const t=n.p+"assets/images/empty-ad-console-ee35c10540049c6021429ddb6ba1506f.png"},9989:(e,i,n)=>{n.d(i,{A:()=>t});const t=n.p+"assets/images/enable-sso-884585f3e11ee8062929637f3ba545b3.png"},9197:(e,i,n)=>{n.d(i,{A:()=>t});const t=n.p+"assets/images/no-ill-test-later-0925d0866e8d4eb32164dbf10e5106ee.png"},1243:(e,i,n)=>{n.d(i,{A:()=>t});const t=n.p+"assets/images/search-aws-application-0b7cde45e48e15af27c9189c4bdbafb3.png"},2163:(e,i,n)=>{n.d(i,{A:()=>t});const t=n.p+"assets/images/set-up-ad-single-sign-on-a0567aae3db97891e3f39f5e7cb64456.png"},7289:(e,i,n)=>{n.d(i,{A:()=>t});const t=n.p+"assets/images/sso-setup-complete-52712a57d549759b2a0bab0100200541.png"},8453:(e,i,n)=>{n.d(i,{R:()=>a,x:()=>d});var t=n(6540);const s={},o=t.createContext(s);function a(e){const i=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function d(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),t.createElement(o.Provider,{value:i},e.children)}}}]);